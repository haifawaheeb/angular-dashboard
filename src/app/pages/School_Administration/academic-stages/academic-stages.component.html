<div class="page-container">

  <div class="top-bar">
    <button class="btn-new" (click)="openDialog()">
      <span>ุฌุฏูุฏ</span>
    </button>

    <div class="filter-bar">
      <input type="text" [(ngModel)]="search" (input)="applyFilter()" placeholder="ุจุญุซ ...">
    </div>
  </div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <!-- <th>#</th> -->
          <th>ุงูุงุณู ุจุงูุนุฑุจู</th>
          <th>ุงูุงุณู ุจุงูุฅูุฌููุฒู</th>
          <th>ุงูุชุฑุชูุจ</th>
          <th>ุชุนุฏูู</th>
          <th>ุญุฐู</th>
        </tr>
      </thead>

      <tbody>
        @for (s of Filteredacademictages; track s.id) {
        <tr>
          <!-- <td>{{ s.id }}</td> -->
          <td>{{ s.name_ar }}</td>
          <td>{{ s.name_en }}</td>
          <td>{{ s.stage_index_order }}</td>

          <td>
            <button class="icon-btn-table edit" (click)="editAcademicstage(s)">โ</button>
          </td>

          <td>
            <button class="icon-btn-table delete" (click)="deleteAcademicstage(s.id!)">๐</button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>

</div>

@if (isDialogOpen) {
<div class="dialog-overlay" (click)="closeDialog()">
  <div class="dialog-box" (click)="$event.stopPropagation()">

    <div class="dialog-header">
      <button class="close-btn" (click)="closeDialog()">โ</button>
      <h3>{{ dialogTitle }}</h3>
    </div>

    <form [formGroup]="form" class="dialog-body"   (ngSubmit)="saveAcademicstage()">

      <label>ุงูุงุณู ุจุงูุนุฑุจู</label>
      <input formControlName="name_ar">

      <label>ุงูุงุณู ุจุงูุฅูุฌููุฒู</label>
      <input formControlName="name_en">

      <label>ุงูุชุฑุชูุจ</label>
      <input type="number" formControlName="stage_index_order">


      <div class="footer-buttons">
        <button type="submit" class="btn-save" >๐พ ุญูุธ</button>
        <button type="button" class="btn-exit" (click)="closeDialog()">โ ุฎุฑูุฌ</button>
      </div>

    </form>
  </div>
</div>
}
