<div class="page-container">
  <!-- ุงูุดุฑูุท ุงูุนููู -->
  <div class="top-bar">
    <button class="btn btn-new" (click)="openNewCourseDialog()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="12" y1="18" x2="12" y2="12"></line>
        <line x1="9" y1="15" x2="15" y2="15"></line>
      </svg>
      <span>ุฌุฏูุฏ</span>
    </button>

    <div class="action-icons">
      <button class="icon-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4" />
          <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" />
        </svg>
      </button>

      <button class="icon-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M6 9V2h12v7M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2" />
          <rect x="6" y="14" width="12" height="8" />
        </svg>
      </button>

      <button class="icon-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
          <polyline points="17 21 17 13 7 13 7 21"></polyline>
          <polyline points="7 3 7 8 15 8"></polyline>
        </svg>
      </button>

      <button class="icon-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12.22 2h-4.22a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.22M16 2l5 5h-5V2z" />
        </svg>
      </button>

      <button class="icon-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z" />
        </svg>
      </button>
    </div>
  </div>

  <!-- ุดุฑูุท ุงูุจุญุซ ูุงูููุงุชุฑ -->
  <div class="filter-bar">
    <select class="filter-select">
      <option>ุชุญุฏูุฏ ุงููู</option>
    </select>
    <div class="search-box">
      <input type="text" placeholder="ุงุฏุฎู ููุชุงุญ ุงูุจุญุซ...">
      <label>ุญูู ุงูุจุญุซ</label>
    </div>
  </div>

  <!-- ุฌุฏูู ุงูุจูุงูุงุช -->
  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>ุฑูู ุงููุณุชุฎุฏู</th>
          <th>ุงูุงุณู ุงููุงูู </th>
          <th>ุฑุงุจุท ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ </th>
          <th>ุงููุบุฉ ุงููุญููุฉ </th>
          <th>ุงูููุทูุฉ ุงูุฒูููุฉ </th>
          <th>ูุต ูุบุฉ ุงูุฅุดุงุฑุฉ ุงูููุถูุฉ</th>
          <th>ูุชุทูุจุงุช ุฅููุงููุฉ ุงููุตูู </th>
          <th>ุญุฐู </th>
          <th> ุชุนุฏูู </th>
        </tr>
      </thead>
      <tbody>
        @for (item of data; track item.user_id) {
        <tr>
          <td>{{ item.user_id }}</td>
          <td>{{ item.full_name }}</td>
          <td>{{ item.avatar_url }}</td>
          <td>{{ item.bio}}</td>
          <td>{{ item.locale }}</td>
          <td>{{ item.timezone }}</td>
          <td>{{ item.preferred_sign_language }}</td>
          <td>{{ item.accessibility_needs }}</td>
          <td>
            <div class="table-actions">
              <button class="icon-btn-table delete" (click)="deleteItem(item.user_id)" title="ุญุฐู">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="3 6 5 6 21 6"></polyline>
                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                </svg>
              </button>
              <button class="icon-btn-table delete" (click)="deleteItem(item.user_id)" title="ุญุฐู">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="3 6 5 6 21 6"></polyline>
                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                </svg>
              </button>
            </div>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>

<!-- ูุงูุฐุฉ ุงูุญูุงุฑ -->
@if (isDialogOpen) {
<div class="dialog-overlay" (click)="closeDialog()">
  <div class="dialog-box" (click)="$event.stopPropagation()">
    <div class="dialog-header">
      <h3>๐งพ ุจุฑููุงูู ุฌุฏูุฏ</h3>
      <button class="close-btn" (click)="closeDialog()">โ</button>
    </div>

    <form [formGroup]="ProfileForm" class="dialog-body">
      <h4 class="section-title">ุงูุจุฑููุงูู </h4>

      <div class="form-grid">
        <!-- ุงูุนููุฏ ุงูุฃููู -->
        <div class="form-col">
          <label>ุฑูู ุงููุณุชุฎุฏู</label>
          <input type="text" formControlName="user_id" placeholder="ููุญุฏุฏ ุชููุงุฆูุงู" readonly>

          <label>ุงูุงุณู ุงููุงูู </label>
          <input type="text" formControlName="full_name" placeholder="ูููุงุก ูููุจ ุนุจุฏุงูุฑุญูู ">

          <label>ุฑุงุจุท ุงูุตูุฑุฉ </label>
          <input type="file" formControlName="avatar_url" (change)="onFileSelected($event)" accept="image/*">
          <button mat-raised-button color="warn" *ngIf="previewUrl" (click)="resetFile()">
            ๐ ุฅุนุงุฏุฉ ุงูุงุฎุชูุงุฑ
          </button>

          <label>ุงููุต ุงููุญูู </label>
          <input type="text" formControlName="bio" placeholder="">
        </div>

        <!-- ุงูุนููุฏ ุงูุฃูุณุฑ -->
        <div class="form-col">
          <label>ุงูููุตูุฉ ุงูุฒูููุฉ</label>
          <input type="text" formControlName="timezone" placeholder="Asia/Amman">
          <label> ูุบุฉ ุงูุงุดุงุฑุฉ ุงูููุถูุฉ</label>
          <input type="text" formControlName="preferred_sign_language" placeholder="">

          <label> ุชูุถููุงุช ุงูุชุฑุฌูู </label>
          <input type="Json" formControlName="accessibility_needs">
        </div>
      </div>

      <div class="footer-buttons">
        <button type="button" class="btn btn-save" (click)="onSave()">๐พ ุญูุธ</button>
        <button type="button" class="btn btn-undo" (click)="onUndo()">โฉ๏ธ ุชุฑุงุฌุน</button>
        <button type="button" class="btn btn-exit" (click)="closeDialog()">โ ุฎุฑูุฌ</button>
      </div>
    </form>
  </div>
</div>
}
